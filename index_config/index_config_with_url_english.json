{
    "settings": {
        "number_of_shards": 6,
        "number_of_replicas": 0,
        "refresh_interval": "300s",
        "index": {
            "codec": "best_compression",
            "max_result_window": 50000
        },
        "analysis": {
            "analyzer": {
                "web_content_analyzer": {
                    "type": "custom",
                    "char_filter": [
                        "html_strip"
                    ],
                    "tokenizer": "standard",
                    "filter": [
                        "lowercase",
                        "asciifolding",
                        "english_stop",
                        "english_stemmer"
                    ]
                },
                "exact_match_analyzer": {
                    "type": "custom",
                    "char_filter": [
                        "html_strip"
                    ],
                    "tokenizer": "standard",
                    "filter": [
                        "lowercase",
                        "asciifolding"
                    ]
                },
                "url_analyzer": {
                    "type": "custom",
                    "tokenizer": "uax_url_email",
                    "filter": [
                        "lowercase",
                        "url_path_tokenizer"
                    ]
                }
            },
            "filter": {
                "english_stop": {
                    "type": "stop",
                    "stopwords": "_english_"
                },
                "english_stemmer": {
                    "type": "stemmer",
                    "language": "english"
                },
                "url_path_tokenizer": {
                    "type": "pattern_replace",
                    "pattern": "[/\\-_.]",
                    "replacement": " "
                }
            }
        }
    },
    "mappings": {
        "dynamic": "false",
        "_source": {
            "includes": ["text", "url"],
            "excludes": []
        },
        "properties": {
            "text": {
                "type": "text",
                "analyzer": "web_content_analyzer",
                "index_options": "positions",
                "norms": true,
                "store": false,
                "fields": {
                    "exact": {
                        "type": "text",
                        "analyzer": "exact_match_analyzer",
                        "index_options": "positions"
                    }
                }
            },
            "url": {
                "type": "text",
                "analyzer": "url_analyzer",
                "index_options": "docs",
                "norms": false,
                "store": false,
                "fields": {
                    "keyword": {
                        "type": "keyword",
                        "ignore_above": 2048
                    }
                }
            }
        }
    }
}
